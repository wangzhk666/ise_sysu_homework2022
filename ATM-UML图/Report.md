## ATM-UML图

### 结构类

#### 1.类图

描绘了ATM系统所包含的主体之间的交互关系，包含系统的功能。其中以“-”开头表示为私有变量（函数），“+”开头表示为公有变量（函数）。

图中所有涉及到的关连均为二元关系，具体关系如箭头文字所示。

CurrentAccount 类与 SavingsAccount 类继承于 Account 类，Withdraw, Query, Transfer, PINValidation 类继承于 ATMTransaction 类。

[类图]

#### 2. 对象图

每个顾客可以有存钱、取钱、查询余额与修改密码四种操作。

[对象图]

#### 3. 组件图

[组件图]



#### 4. 配置图

配置图显示ATM系统不同的组件之间的静态连接关系。

[配置图]

### 行为类

#### 1. 例图

例图描述了系统提供的功能单元。以可视化的方式理解系统的功能需求。参与者包括客户和ATM机。功能包括存款、取款、转账、余额查询。

[例图]

#### 2. 序列图

序列图显示ATM系统详细流程。其显示了流程中不同对象之间的调用关系，同时还可以很详细地显示对不同对象的不同调用。 序列图包括两个维度：垂直维度以发生的时间顺序显示调用的序列，以及水平维度显示消息被发送到的对象实例。

[序列图]

#### 3. 行为图 

行为图以顾客插入卡为开始，以顾客取卡结束，包含了检查pin，检查账户余额等操作。行为图在本质上是一种流程图，着重表现从一个活动到另一个活动的控制流，是内部处理驱动的流程。行为图侧重从行为的动作描述。

[行为图]

#### 4. 协作图

协作图显示的信息和序列图是相同的，只是协作图用不同的方式显示而已。序列图显示的是对象和参与者随时间变化的交互，而协作图则不参照时间而显示对象与参与者的交互。

 例如，Joe取20美元的协作图中我们可以看到，读卡机和Joe的账目两个对象之间的交互：读卡机指示Joe的账目打开，Joe的账目让读卡机退卡。直接相互通信的对象之间有一条直线，例如ATM屏幕和读卡机直接相互通信，则其间画一条直线。没有画直线的对象之间不直接通信。

[协作图]

#### 5. 状态图

插入磁卡后进入输密码状态，当密码输入正确时进入选择服务类型状态，当输入密码不正确时，停留在原状态，但如果三次不正确，服务结束。进入选择服务类型后根据选择的不同，顾客可进入存款、取款或查询余额状态。状态结束后，顾客既可以选择结束服务到最终状态，也可以选择继续服务回到选择服务类型状态。

通过状态图我们可以无歧义的了解各个活动角色是如何在不同状况下转换的，转换的条件是什么，是否会出现死锁现象，是否有条件没考虑周全，是否有状态无法达到。状态图可以帮助我们发现问题，并及时改正。

[状态图]
